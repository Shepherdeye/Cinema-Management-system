@model List<Movie>

<div class="container mt-5">
    <h2 class="mb-4 text-center">All Movies</h2>

    <a class="btn btn-primary float-end mb-3" href="/admin/movie/create">New Movie</a>

    <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle shadow-sm">
            <thead class="table-dark text-center">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Name</th>
                    <th scope="col">Description</th>
                    <th scope="col">Price</th>                              
                    <th scope="col">Start</th>
                    <th scope="col">End</th>
                    <th scope="col">Status</th>
                    <th scope="col">Category</th>
                    <th scope="col">Cinema</th>                  
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.Any())
                {
                    foreach (var movie in Model)
                    {
                        <tr class="text-center">
                            <td>@movie.Id</td>
                            <td>@movie.Name</td>
                            <td>
                                @(movie.Description?.Length > 10
                                                        ? movie.Description.Substring(0, 10) + "..."
                                                        : movie.Description)
                    </td>
                    <td>@movie.Price.ToString("C")</td>
                 
                 
                    <td>@movie.StartDate.ToString("yyyy-MM-dd:mm:ss")</td>
                    <td>@movie.EndDate.ToString("yyyy-MM-dd:mm:ss")</td>
                    @if (movie.MovieStatus == MovieStatus.Available)
                            {
                                <td><strong class="text-success">Available</strong> </td>
                            }
                            else if (MovieStatus.Upcoming == movie.MovieStatus)
                            {
                               
                                <td><strong class="text-warning">Upcoming</strong> </td>
                            }
                            else
                            {
                           
                                <td><strong class="text-danger">Expired</strong> </td>
                                
                            }
                                <td>@movie.Category?.Name</td>
                                    <td>@movie.Cinema?.Name</td>
                            <td class="d-flex justify-content-around gap-1">
                                <a href="/admin/movie/edit/@movie.Id" class="btn btn-warning btn-sm mr-1 me-1">Edit</a>
                                <a href="/admin/movie/delete/@movie.Id"
                                   class="btn btn-danger btn-sm"
                                   onclick="return confirm('Are you sure you want to delete this movie?');">
                                    Delete
                                </a>
                            </td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="10" class="text-center text-muted">No movies found</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
